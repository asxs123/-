var rule = {
  title: '千千影视',
  host: 'https://www.qqys01.com/',
  url: '/vodshow/fyclass--------fypage---.html',
  searchUrl: '/vodsearch/**----------fypage---.html',
  searchable: 2,
  quickSearch: 0,
  filterable: 0,
  headers: {
    'User-Agent': 'MOBILE_UA',
  },
  class_parse: '.fs-margin li:gt(0):lt(10);a&&Text;a&&href;/(\\d+)',
  play_parse: true,
  lazy: "js:\n  let html = request(input);\n  // 1. 匹配播放器配置 JSON\n  let hconf = html.match(/var\\s+player_.*?=\\s*({.*?})\\s*</)[1];\n  let json = JSON5.parse(hconf);\n  let url = json.url;\n\n  // 2. 根据 encrypt 字段解码\n  if (json.encrypt == '1') {\n    url = unescape(url);\n  } else if (json.encrypt == '2') {\n    // 针对你给出的 encrypt:2 场景：Base64解码后再进行 unescape\n    url = unescape(base64Decode(url));\n  }\n\n  // 3. 智能解析与跳转策略\n  // 判断是否是第三方官源（如腾讯、爱奇艺等），这类通常需要过解析器\n  const isOfficial = /(qq\\.com|iqiyi\\.com|youku\\.com|bilibili\\.tv|mgtv\\.com)/.test(url);\n  \n  if (isOfficial) {\n    input = {\n      parse: 1, // 设为 1 启用内置解析或强制跳转\n      jx: 0,\n      url: 'https://svip.qlplayer.cyou/?url=' + encodeURIComponent(url),\n      header: {\n        'Referer': host,\n        'User-Agent': MOBILE_UA\n      }\n    };\n  } else if (/\\.(m3u8|mp4|m4a|mp3)/.test(url)) {\n    // 如果直接是媒体地址，直接播放\n    input = { parse: 0, jx: 0, url: url };\n  } else {\n    // 其他情况，尝试让壳子自行解析或直接跳转\n    input = url.startsWith('http') ? { parse: 1, url: url } : url;\n  }",
  limit: 6,
  double: true,
  推荐: '.module-box;.module-item;.v-item-title:eq(1)&&Text;.lazyload&&data-original;.v-item-bottom&&Text;a&&href',
  一级: '.module-box .module-item;.v-item-title:eq(1)&&Text;.lazyload&&data-original;.v-item-bottom&&Text;a&&href',
  二级: {
    title: '.detail-title&&Text;.detail-tags a:eq(2)&&Text',
    img: '.lazyload&&data-original||data-src||src',
    desc: '.detail-tags&&Text;.detail-tags a:eq(0)&&Text;.detail-tags a:eq(1)&&Text;.detail-info-row&&Text;.detail-info-row:eq(1)&&Text',
    content: '.detail-desc&&Text',
    tabs: '.source-box .swiper-slide',
    lists: '.episode-list:eq(#id) a',
    tab_text: 'div--small&&Text',
  },
  搜索: '.search-result-list a;.title&&Text;.search-result-item-pic img&&src;.tags&&Text;a&&href',
}
